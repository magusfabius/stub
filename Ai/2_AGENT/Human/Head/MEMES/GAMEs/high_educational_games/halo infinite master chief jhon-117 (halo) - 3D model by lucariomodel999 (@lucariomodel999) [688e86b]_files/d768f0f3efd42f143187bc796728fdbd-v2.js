(self.webpackChunksketchfab=self.webpackChunksketchfab||[]).push([[945],{"0smq":(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var o=i("orms"),n=i.n(o),r=i("3Z9q"),a=i("W5nl"),s=i("d1tj"),l=i("PGhl");i("/VXM");const d=function(e){var t=e.hasSubscribed,i=e.onToggleSubscribe,o=e.subscriberCount,d=e.disabled,c=void 0!==d&&d,u=e.className,m=void 0===u?"":u,v=e.tooltipClassName,p=void 0===v?"tooltip-down":v;return n()("div",{className:(0,l.AK)(m,"help","subscribe-button","count-subscribe-button","btn-loading",{toggled:t,"--disabled":c}),onClick:c?a.EI:i},void 0,n()("span",{className:"count"},void 0,(0,s.sH)(o)),c?n()("span",{className:"tooltip subscribed-content ".concat(p)},void 0,"Subscribers"):n()(r.Fragment,{},void 0,n()("span",{className:"tooltip subscribed-content ".concat(p)},void 0,"Subscribe"),n()("span",{className:"tooltip unsubscribed-content ".concat(p)},void 0,"Unsubscribe")))}},UcNa:(e,t,i)=>{"use strict";i.d(t,{Z:()=>R});var o=i("L1ht"),n=i.n(o),r=i("orms"),a=i.n(r),s=i("akyR"),l=i.n(s),d=i("fVnT"),c=i.n(d),u=i("j2dP"),m=i.n(u),v=i("pydW"),p=i.n(v),f=i("nWhp"),h=i.n(f),w=i("u783"),b=i.n(w),g=i("DF+G"),N=i.n(g),y=i("D5DJ"),_=i("/HjK"),C=i("3Z9q"),E=i("qpU+"),Z=i("PGhl"),S=i("hDWi"),k=i("d1tj");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=b()(e);if(t){var n=b()(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return h()(this,i)}}var P=a()("div",{className:"c-card-slider__background"}),R=function(e){p()(i,e);var t=A(i);function i(e){var o;return l()(this,i),o=t.call(this,e),N()(m()(o),"state",{isPreviousArrowHidden:!0,isNextArrowHidden:!1,currentCard:0}),N()(m()(o),"initialDrag",0),N()(m()(o),"shownCardsCount",0),N()(m()(o),"scrollWidth",0),N()(m()(o),"scrollX",0),N()(m()(o),"projectedScrollX",0),N()(m()(o),"slider",C.createRef()),N()(m()(o),"list",C.createRef()),N()(m()(o),"updateArrowStateThrottled",void 0),N()(m()(o),"animateToX",void 0),N()(m()(o),"hasContent",(function(){return!!o.props.cards.length})),N()(m()(o),"getCurrentCardX",(function(){return o.hasContent()?o.state.currentCard*o.getCardSize():0})),N()(m()(o),"getCardSize",(function(){if(!o.hasContent())return 1;var e=o.slider.current.querySelector(".item");if(!e)return 1;var t=window.getComputedStyle(e);return parseFloat(t.width)+2*parseFloat(t["margin-right"])||1})),N()(m()(o),"setSliderScrollX",(function(e){o.scrollX=e,o.hasContent()&&o.list.current&&(o.list.current.style.transform="translateX(".concat(-e,"px)"),o.updateArrowStateThrottled())})),N()(m()(o),"refreshShownCardsCount",(function(){if(o.slider.current){var e=o.slider.current.getBoundingClientRect().width,t=o.getCardSize();o.shownCardsCount=Math.round(e/t)}})),N()(m()(o),"validateIndex",(function(e){return(0,k.vX)(0,o.props.cards.length-o.shownCardsCount,e)})),N()(m()(o),"onResize",(0,y.Z)((function(){o.refreshShownCardsCount(),o.animateToX(o.getCurrentCardX())}),250)),N()(m()(o),"onDragStart",(function(e){o.initialDrag=o.scrollX+(0,S.wv)(e).x,o.scrollWidth=o.slider.current?o.slider.current.scrollWidth:0})),N()(m()(o),"onDrag",(function(e){var t=(0,S.wv)(e),i=t.x+(0,E.$l)(e.velocity.x);o.projectedScrollX=(0,k.vX)(0,o.scrollWidth,o.initialDrag-i),o.animateToX((0,k.vX)(0,o.scrollWidth,o.initialDrag-t.x))})),N()(m()(o),"onDragEnd",(function(){var e=o.getCardSize(),t=o.validateIndex(Math.round(o.projectedScrollX/e));o.animateToX(t*e),o.setState({currentCard:t})})),N()(m()(o),"onPrevious",(function(){o.setSlide("previous")})),N()(m()(o),"onNext",(function(){o.setSlide("next")})),N()(m()(o),"setSlide",(function(e){var t=o.getCardSize(),i=o.validateIndex("previous"===e?Math.max(o.state.currentCard-o.shownCardsCount,0):Math.min(o.state.currentCard+o.shownCardsCount,o.props.cards.length-o.shownCardsCount));o.animateToX(i*t),o.setState({currentCard:i,isNextArrowHidden:"next"!==e&&o.state.isNextArrowHidden,isPreviousArrowHidden:0===i})})),N()(m()(o),"updateArrowState",(function(){if(o.hasContent()&&o.list.current&&o.slider.current){var e=o.slider.current.getBoundingClientRect(),t=e.right,i=e.left,n=o.list.current,r=n.lastElementChild,a=n.firstElementChild,s=!r||r.getBoundingClientRect().right<=t+20,l=!a||a.getBoundingClientRect().left>=i-20;o.state.isNextArrowHidden===s&&o.state.isPreviousArrowHidden===l||o.setState({isPreviousArrowHidden:l,isNextArrowHidden:s})}})),o.updateArrowStateThrottled=(0,_.Z)(o.updateArrowState.bind(m()(o)),250),o.animateToX=(0,E.ST)(o.setSliderScrollX.bind(m()(o))),o}return c()(i,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.refreshShownCardsCount(),this.updateArrowState()}},{key:"componentDidUpdate",value:function(e){this.props.cards.length!==e.cards.length&&(this.refreshShownCardsCount(),this.updateArrowState())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this.hasContent(),t=this.props,i=t.className,o=t.cards,r=t.title,s=void 0===r?"":r,l=t.linkUrl,d=void 0===l?"":l,c=t.gridSize,u=void 0===c?"normal":c,m=t.color,v=void 0===m?Z.O9.skfbBlue:m,p=t.isLoading,f=void 0!==p&&p,h=t.withBackground,w=void 0!==h&&h;return e?a()("div",{className:(0,Z.AK)("c-card-slider",i,{"--loading":f})},void 0,s&&(d?a()("a",{className:"c-card-slider__header",href:d},void 0,a()("h4",{className:"c-card-slider__title",style:{color:v}},void 0,s),a()("p",{className:"c-card-slider__link skfb-link",style:{color:v}},void 0,"See more â€º")):a()("div",{className:"c-card-slider__header"},void 0,a()("h4",{className:"c-card-slider__title",style:{color:v}},void 0,s))),a()("div",{className:(0,Z.AK)("c-card-slider__arrow","--left",{"--hidden":this.state.isPreviousArrowHidden}),onClick:this.onPrevious},void 0,a()("svg",{width:"9",height:"54",viewBox:"0 0 9 54",xmlns:"http://www.w3.org/2000/svg"},void 0,a()("path",{d:"M1.518 27.17v-.26l.034.13-.034.13zm6.977 25.78l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zm0 0l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zM1.518 27.17v-.26l.034.13-.034.13zm-.01-.3l.044.17-.045.17-.966-.26.012-.04.483.13-.483.13-.01-.04.965-.26zm-.956.3l-.01-.04.965-.26.045.17-.045.17-.966-.26.012-.04.483.13-.483.13z",fillRule:"nonzero",fill:v}))),C.createElement("div",n()({ref:this.slider,className:(0,Z.AK)("c-card-slider__slider","grid","grid-cards","--"+u)},(0,S.QG)({onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd})),C.createElement("div",{ref:this.list,className:"items",style:{transform:"translateX(0px)"}},o)),a()("div",{className:(0,Z.AK)("c-card-slider__arrow","--right",{"--hidden":this.state.isNextArrowHidden}),onClick:this.onNext},void 0,a()("svg",{width:"9",height:"53",viewBox:"0 0 9 53",xmlns:"http://www.w3.org/2000/svg"},void 0,a()("path",{d:"M7.977 26.04L1 0l6.977 26.04L1 52.08l6.977-26.04zm0 0l.01.04-.01-.04.01-.04-.01.04z",stroke:v,fill:"none",fillRule:"evenodd",strokeLinecap:"square"}))),w&&P):null}}]),i}(C.Component);N()(R,"defaultProps",{title:"",linkUrl:"",gridSize:"normal",color:Z.O9.skfbBlue,isLoading:!1,withBackground:!1})},hHHr:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var o=i("L1ht"),n=i.n(o),r=i("orms"),a=i.n(r),s=i("jx9Z"),l=i.n(s),d=i("3Z9q"),c=i("kZ7m"),u=i("IiMA"),m=i("EHA6"),v=i("pIsB"),p=i("5suD"),f=i("sN7K"),h=i("kNiy"),w=i("dnCj");function b(e){var t=e.model,i=l()(e,["model"]),o=(0,w.Z)().History,r=(0,h.Z)(d.useCallback((function(){return(0,p.openDownloadPopup)(t)}),[t]));return a()(u.Z,{fallback:a()(c.Z,{text:"Loading",size:"huge",type:"store",className:v.Z["store-btn"]})},void 0,(function(){return a()(m.Z,{model:t},void 0,(function(e){var t=e.isModelInCart,a=e.isModelOwned,s=e.wasJustAdded,l=e.onAddToCart,u=e.isLoading;return d.createElement(c.Z,n()({},function(e){var t=e.isModelOwned,i=e.isModelInCart,o=e.wasJustAdded;return t?{text:"Download",subtext:""}:i?o?{text:"Added to your cart!",subtext:"go to checkout",iconClassName:"fa fa-check",iconAttrs:{style:{fontSize:"30px",animation:"scaleIn .3s ease"}}}:{text:"go to checkout",subtext:"model already added to your cart",iconClassName:""}:{text:"Add to cart",subtext:"",iconClassName:""}}({isModelInCart:t,isModelOwned:a,wasJustAdded:s}),{size:"huge",type:"store",className:v.Z["store-btn"],disabled:u,onClick:function(){a?r():t?o.push((0,f.HQ)("store:checkout")):l()}},i))}))}))}},MpY4:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i("orms"),n=i.n(o),r=(i("3Z9q"),n()("span",{className:"flag --new",title:"New Collection"}));const a=function(e){var t=e.displayNew;return void 0!==t&&t?r:null}},sAJz:(e,t,i)=>{"use strict";i.d(t,{N$:()=>E,ZP:()=>Z});var o=i("orms"),n=i.n(o),r=i("L1ht"),a=i.n(r),s=i("eLCO"),l=i.n(s),d=i("qK9l"),c=i.n(d),u=i("dutp"),m=i.n(u),v=i("jx9Z"),p=i.n(v),f=i("3Z9q"),h=i("73wT"),w=i("XF2a"),b=i("PGhl"),g=i("kZ7m"),N=i("ClpA"),y=i("510x"),_=i("eAdV"),C=i("rRD0"),E=function(e){var t,i=e.model,o=e.children;return i.isPublished||(0,y.Le)(i)||"FAILED"===(null==i||null===(t=i.status)||void 0===t?void 0:t.processing)?null:o};const Z=function(e){var t=e.model,i=e.className,o=void 0===i?"":i,r=p()(e,["model","className"]),s=(0,h.I0)(),d=(0,h.v9)(w.wl.authUser.canAccessFeature("ff_read_only_mode")),u=(0,h.v9)(w.wl.authUser.user),v=u.uid===t.user.uid,y=f.useState({type:"unpublished"}),Z=m()(y,2),S=Z[0],k=Z[1],A=f.useCallback(c()(l().mark((function e(){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(w.Nw.models.tryPublish(t.uid));case 3:k({type:"published"}),setTimeout((function(){return k({type:"hidden"})}),3e3),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),k({type:"error",message:(0,C.Oe)(e.t0)?(0,C.wp)(e.t0,!1):"string"==typeof e.t0?e.t0:null!==(i=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==i?i:"Something went wrong."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[s,t]);return"hidden"===S.type?null:n()(E,{model:t},void 0,n()(N.Z,{className:o,text:"error"===S.type?S.message:"published"===S.type?"Your model was successfully published":"protected"===t.visibility?"Only people with password and link will have access. No notifications will be sent.":"private"===t.visibility?"Only people with link will have access. No notifications will be sent.":"org"===t.visibility?"Everyone in this project will have access.":v&&!(0,_.ND)(u)&&"no"===t.downloadType?"Publish limit exceeded":"Everyone will have access. Followers will be notified."},void 0,f.createElement(g.Z,a()({text:"published"===S.type?"âœ” Published":"Publish",size:"medium",type:"important",onClick:A,disabled:d||"unpublished"!==S.type||v&&!(0,_.ND)(u)&&"no"===t.downloadType,style:{backgroundColor:"published"===S.type?b.O9.skfbBrightGreen:""},className:"c-publish-button"},r))))}},SmKw:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var o=i("L1ht"),n=i.n(o),r=i("orms"),a=i.n(r),s=i("dutp"),l=i.n(s),d=i("jx9Z"),c=i.n(d),u=i("3Z9q"),m=i("510x"),v=i("IiMA"),p=i("pA0r"),f=i("sAJz"),h=i("XLSd"),w=i("PnYN"),b=i("qUO+"),g=a()("p",{},void 0,"This model is a ",a()("strong",{},void 0,"Draft"),"."),N=a()("strong",{},void 0,"Publish it");const y=function(e){var t=e.model,i=c()(e,["model"]),o=(0,m.nR)(t),r=l()(o,2),s=r[0],d=r[1];return a()(f.N$,{model:t},void 0,a()(w.Z,{type:"warning",className:b.Z.message},void 0,a()("div",{className:b.Z.draft},void 0,g,a()("p",{},void 0,N," to display and share it according to the"," ",a()(h.Z,{to:s,params:d},void 0,"model properties."))),a()(v.Z,{},void 0,(function(){return a()(p.Z,{model:t,className:b.Z.date})})),u.createElement(f.ZP,n()({model:t},i))))}},gdjY:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var o=i("orms"),n=i.n(o),r=(i("3Z9q"),i("PGhl")),a=i("d1tj");const s=function(e){var t=e.likeCount,i=e.doesLike,o=e.onToggleLike,s=e.className,l=void 0===s?"":s,d=e.tooltipClassName,c=void 0===d?"tooltip-down":d;return n()("div",{onClick:o,className:(0,r.AK)("help","c-like-button","c-star-like-button",l,{"--liked":i})},void 0,n()("span",{className:"count"},void 0,(0,a.sH)(t)),n()("span",{className:"tooltip liked-content ".concat(c)},void 0,i?"Unlike":"Like"))}},FmZB:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var o=i("orms"),n=i.n(o),r=i("L1ht"),a=i.n(r),s=i("jx9Z"),l=i.n(s),d=i("3Z9q"),c=i("PGhl");function u(e){var t=e.tabs,i=e.selectedTabIndex,o=void 0===i?0:i,r=e.onSelectTab,s=e.className,u=void 0===s?"":s;return n()("section",{className:(0,c.AK)("c-tabs",u)},void 0,n()("header",{className:"c-tabs__header"},void 0,t.map((function(e,t){var i=e.title,n=(e.render,l()(e,["title","render"]));return d.createElement("div",a()({key:t,className:(0,c.AK)("c-tabs__tab",{"--active":t===o}),onClick:function(){return r(t)}},n),i)}))),n()("main",{className:"c-tabs__main"},void 0,t[o].render()))}},"7ZFv":(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var o=i("3Z9q"),n=i("73wT"),r=i("XF2a"),a=i("kNiy");function s(e){var t=e.model,i=e.children,s=(0,n.I0)(),l=(0,n.v9)((function(e){var i=e.entities.models[t.uid];return{authUserUid:r.wl.authUser.uid(e),doesLike:r.wl.authUser.doesLike(t.uid,e),likeCount:i?i.likeCount:t.likeCount,hasModelEntity:!!i}})),d=l.doesLike,c=l.likeCount,u=l.hasModelEntity,m=l.authUserUid,v=(0,a.Z)(o.useCallback((function(){return u||s(r.Nw.entities.update({models:[t]})),s(r.Nw.authUser.toggleLikeModel(t.uid))}),[t,s,u]));return o.useEffect((function(){m&&s(r.Nw.authUser.getDoesLike(t.uid))}),[s,t.uid,m]),i({doesLike:d,onToggleLike:v,likeCount:c})}},Z5mj:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});var o=i("akyR"),n=i.n(o),r=i("fVnT"),a=i.n(r),s=i("j2dP"),l=i.n(s),d=i("pydW"),c=i.n(d),u=i("nWhp"),m=i.n(u),v=i("u783"),p=i.n(v),f=i("DF+G"),h=i.n(f),w=i("3Z9q"),b=i("73wT"),g=i("PSPx"),N=i("mV4i"),y=i("XF2a");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=p()(e);if(t){var n=p()(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return m()(this,i)}}const C=(0,b.$j)((function(e,t){var i=y.wl.entities.collection(t.collection.uid,e);return{canSubscribe:y.wl.authUser.uid(e)!==t.collection.user.uid,hasSubscribed:y.wl.authUser.hasSubscribed(t.collection.uid,e),subscriberCount:i?i.subscriberCount:t.collection.subscriberCount,hasEntity:!!i}}),{updateEntities:y.Nw.entities.update,getHasSubscribed:y.Nw.authUser.getHasSubscribed,toggleSubscribe:y.Nw.authUser.toggleSubscribe})(function(e){c()(i,e);var t=_(i);function i(){var e;n()(this,i);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),h()(l()(e),"onToggleSubscribe",N.iB((function(){return g.Z.authenticate((function(){return e.props.hasEntity||e.props.updateEntities({collections:[e.props.collection]}),e.props.toggleSubscribe(e.props.collection.uid)}))}))),e}return a()(i,[{key:"componentDidMount",value:function(){this.props.getHasSubscribed(this.props.collection.uid)}},{key:"render",value:function(){return this.props.children({canSubscribe:this.props.canSubscribe,hasSubscribed:this.props.hasSubscribed,onToggleSubscribe:this.onToggleSubscribe,subscriberCount:this.props.subscriberCount})}}]),i}(w.Component))},dR3t:(e,t,i)=>{"use strict";i.d(t,{Z:()=>dt});var o=i("L1ht"),n=i.n(o),r=i("orms"),a=i.n(r),s=i("DF+G"),l=i.n(s),d=i("3Alh"),c=i("3Z9q"),u=i("73wT"),m=i("XF2a"),v=i("510x"),p=i("rRD0"),f=i("d1tj"),h=i("sN7K"),w=i("Z10h"),b=i("hHHr"),g=i("khqc"),N=i("v8Jm"),y=i("yqlb"),_=i("65I9"),C=i("SmKw"),E=i("gdjY"),Z=i("BoIk"),S=i("ClpA"),k=i("YQ43"),A=i("xmt6"),P=i("7ZFv"),R=i("dnCj"),T=i("ffEw"),x=i("qKlK"),O=i("kZ7m"),D=i("F8zy"),L=a()("i",{className:"icon fa fa-flag"}),U=a()("span",{className:"c-model-actions__button-label"},void 0,"Report");function M(e){var t=e.model,i=e.onOpenDownloadPopup,o=e.onOpenAddToCollectionPopup,n=e.onOpenEmbedPopup,r=e.onOpenSharePopup,s=(0,u.v9)(m.wl.authUser.uid),l=t.publishedAt&&!t.isDisabled&&!t.isDeleted,d=!((0,v.hv)(t.visibility)&&s!==t.user.uid);return l?a()("div",{className:"c-model-actions"},void 0,"free"===t.downloadType?a()(O.Z,{type:"textified",className:"c-model-actions__button --download",onClick:i,title:"Download Free 3D Model",text:"Download 3D Model",iconClassName:"fa fa-download","data-selenium":"open-download-popup"}):null,d?a()(O.Z,{type:"textified",className:"button btn-medium c-model-actions__button --add-to",onClick:o,text:"Add to",iconClassName:"fa fa-plus","data-selenium":"open-collection-popup"}):null,a()(O.Z,{type:"textified",className:"c-model-actions__button",iconClassName:"fa fa-code",onClick:n,title:"Embed",text:"Embed"}),a()(O.Z,{type:"textified",className:"c-model-actions__button",onClick:r,title:"Share",text:"Share",iconClassName:"fa fa-share"}),t.user.uid!==s&&a()(D.Z,{host:x.Z.hosts.faq,type:"model",uid:t.uid,subject:t.name+" by "+t.user.username,className:"c-model-actions__button --report"},void 0,L,U)):null}var j=i("9M9C"),I=i("dutp"),F=i.n(I),z=i("FmZB"),H=i("EW38"),X=i("MKdz"),B=i("h52+"),q=i("zjhQ"),K=i("bEzE"),V=i("27sA"),W=i("PGhl"),G=a()("i",{className:"close-icon fa fa-close"});const J=function(e){var t=e.distribution,i=e.selected,o=e.onSelect,n=Object.keys(t).reduce((function(e,i){return e+t[i]}),0),r=Object.keys(t).sort((function(e,t){return parseInt(t)-parseInt(e)})).map((function(e){return{key:e,label:e+" star"+(parseInt(e)>1?"s":""),count:t[e],percentage:0===n?0:t[e]/n,className:i?e===i?"--active":"--inactive":""}}));return a()("div",{className:"c-rating-distribution"},void 0,r.map((function(e){return a()("div",{className:(0,W.AK)("c-rating-distribution__item",e.className),onClick:function(){return o(i===e.key?"":e.key)}},e.key,a()("div",{className:"label"},void 0,e.label),a()("div",{className:"percentage-container"},void 0,a()("div",{className:"percentage",style:{width:100*e.percentage+"%"}})),a()("div",{className:"count"},void 0,e.count),G)})))};var Y=a()("div",{className:"col"},void 0,"Not enough reviews to display rating"),Q=a()("div",{className:"col"},void 0,a()("span",{},void 0,"Preview accuracy"),a()("span",{},void 0,"Ease of use"),a()("span",{},void 0,"Value for money"));function $(e){var t=e.average,i=e.previewFidelity,o=e.easeOfUse,n=e.valueForMoney,r=e.distribution,s=e.selectedRating,l=e.onSelectRating,d=!(i||o||n);return a()("div",{className:"c-model-rating"},void 0,a()("div",{className:"c-model-rating__rating-block"},void 0,a()("div",{className:"c-model-rating__general"},void 0,a()("span",{className:"text","data-selenium":"average-rating"},void 0,t?(0,f.A6)(t,{numberOnly:!0}):"-"),a()(Z.Z,{value:t||0,size:"medium"})),a()("div",{className:"c-model-rating__rating-details"},void 0,d?Y:c.createElement(c.Fragment,null,Q,a()("div",{className:"col"},void 0,i&&a()("span",{},void 0,(0,f.A6)(i)),o&&a()("span",{},void 0,(0,f.A6)(o)),n&&a()("span",{},void 0,(0,f.A6)(n)))))),a()("div",{className:"c-model-rating__distribution-block"},void 0,a()(J,{distribution:r,selected:s,onSelect:l})))}var ee=i("sToK"),te=i("2ELv"),ie=i("18Qn"),oe=a()("span",{className:"author small-text"},void 0,"Model author"),ne=a()("span",{className:"date small-text"},void 0," (edited)");function re(e){var t=e.isAuthor,i=e.createdAt,o=e.editedAt,n=e.user;return a()("div",{},void 0,a()("div",{className:"review-item__author-name"},void 0,a()(k.Z,{withSummary:!0,user:n})),a()("div",{className:"review-item__meta"},void 0,t&&oe,i&&a()("time",{className:"date datefuzz small-text",itemProp:"datecreated",dateTime:i,title:i},void 0,(0,ie.Sy)(i)),o&&ne))}var ae=i("Otfm"),se=a()("div",{className:"review-item__author-name"},void 0,a()(ae.Z,{})),le=a()("span",{className:"date small-text"},void 0," (edited)");function de(e){var t=e.createdAt,i=e.editedAt;return a()("div",{},void 0,se,a()("div",{className:"review-item__meta"},void 0,t&&a()("time",{className:"date datefuzz small-text",itemProp:"datecreated",dateTime:t,title:t},void 0,(0,ie.Sy)(t)),i&&le))}var ce=i("oZ7n"),ue=i("KJ5m"),me={replyBody:{initialValue:"",validators:[(0,i("A9V1").C1)()]}},ve=(0,ue.Z)(me),pe=a()("span",{className:"small-text"},void 0,"Note: Buyers can not delete their review nor reply to your message"),fe=a()("i",{className:"fa fa-cog"}),he=a()("a",{},void 0,"Edit message");const we=ve((function(e){var t=e.form,i=e.onReply,o=e.review,r=e.modelAuthor,s=c.useState(!1),l=F()(s,2),d=l[0],v=l[1],p=(0,u.v9)(m.wl.authUser.user),f=c.useCallback((function(){return t.onSubmit((function(e){return i((0,w.sanitize)(e.replyBody)).then((function(){return v(!1)}))}))}),[t,i]);c.useEffect((function(){t.fields.replyBody.onChange(o.replyBody||"")}),[o.replyBody]);var h=p.uid===r.uid;return a()("div",{className:"review-item__reply"},void 0,h&&d?c.createElement(c.Fragment,null,c.createElement(ce.Z,n()({},t.fields.replyBody,{autofocus:!0,placeholder:"Your message...",onSubmit:f})),a()("div",{className:"review-item__reply__actions"},void 0,a()(O.Z,{text:"publish",size:"small",onClick:f}),a()(O.Z,{text:"cancel",size:"small",type:"tertiary",onClick:function(){return v(!1)}}),pe)):o.replyBody?a()("div",{className:"review-item__reply__quote"},void 0,a()("div",{className:"review-item__corner-actions"},void 0,h&&a()("div",{className:"review-item__options"},void 0,fe,a()("ul",{className:"hover-menu --left"},void 0,a()("li",{onClick:function(){return v(!0)}},void 0,he)))),a()("div",{className:"review-item__reply__author"},void 0,a()("div",{className:"review-item__avatar","data-action":"show-user-summary","data-user":r.uid},void 0,a()(N.ZP,{alt:"Avatar of ".concat(r.username),images:r.avatars,width:32,height:32})),a()(re,{user:r,isAuthor:!0,editedAt:o.replyEditedAt||void 0,createdAt:o.replyCreatedAt||void 0})),a()("div",{className:"review-item__text",itemProp:"text"},void 0,a()(te.Z,{body:o.replyBody}))):h?a()(O.Z,{text:"Reply",size:"small",onClick:function(){return v(!0)}}):null)}));var be=a()("span",{className:"review-item__upvote__icon fa fa-thumbs-o-up"}),ge=a()("span",{className:"tooltip tooltip-down"},void 0,"You found this review helpful"),Ne=a()("i",{className:"fa fa-cog"}),ye=a()("span",{},void 0," - Verified purchase");function _e(e){var t=e.className,i=e.review,o=e.model,r=e.onReply,s=(0,u.v9)((function(e){return{hasUpvoted:m.wl.authUser.hasUpvotedReview(i.uid,e),authUser:m.wl.authUser.user(e)}})),l=s.hasUpvoted,d=s.authUser,v=(0,u.I0)();c.useEffect((function(){v(m.Nw.authUser.getHasUpvotedReview(i.uid))}),[i.uid]);var p,h=c.useCallback((function(){return v(m.Nw.authUser.toggleUpvoteReview(i.uid))}),[i.uid]),b=Boolean(i.deletedAt)||i.user.isDeleted;return a()("div",{className:(0,W.AK)("review-item",t,{"--deleted":b}),itemProp:"review",itemScope:!0,itemType:"http://schema.org/Comment"},void 0,c.createElement("div",n()({className:"review-item__avatar"},i.user.isDeleted?{}:{"data-action":"show-user-summary","data-user":i.user.uid}),a()(N.ZP,{alt:"Avatar of ".concat(i.user.username),images:i.user.avatars,width:32,height:32})),a()("article",{className:"review-item__body"},void 0,a()("div",{className:"review-item__corner-actions"},void 0,d.uid===i.user.uid?null:a()("div",{className:(0,W.AK)("review-item__upvote","help",{"--active":l}),onClick:h},void 0,a()("span",{className:"review-item__upvote__text"},void 0,"Helpful",l?"!":"?"," "),be,l&&ge),b?null:a()("div",{className:"review-item__options"},void 0,Ne,a()("ul",{className:"hover-menu --left"},void 0,d.uid===i.user.uid?a()("li",{},void 0,a()("a",{href:o.reviewUrl},void 0,"Edit review")):a()("li",{},void 0,a()(D.Z,{host:x.Z.hosts.faq,type:"review",uid:i.uid,subject:"Comment by ".concat(i.user.username," on ").concat(o.name)},void 0,"Report comment"))))),i.user.isDeleted?a()(de,{editedAt:i.editedAt||void 0,createdAt:i.createdAt}):a()(re,{user:i.user,isAuthor:o.user.uid===i.user.uid,editedAt:i.editedAt||void 0,createdAt:i.createdAt}),a()("div",{className:"review-item__text",itemProp:"text"},void 0,a()("strong",{},void 0,"Usage: ",(p=i.usage,(0,ee.zy)(x.Z.reviewsUsageOptions,{title:"Unknown",value:""},(function(e){return e.value===p})).title)),a()(te.Z,{body:i.body,isDeleted:b})),a()("div",{className:"review-item__bottom-info"},void 0,a()("span",{},void 0,"Rating: ",(0,f.A6)(i.averageRating)),ye,i.upvoteCount?a()("span",{},void 0," ","- ",i.upvoteCount," ",(0,w.pluralize)(i.upvoteCount,"person","people")," found this review helpful"):null),a()(we,{review:i,modelAuthor:o.user,onReply:r})))}var Ce,Ee,Ze=i("eLCO"),Se=i.n(Ze),ke=i("qK9l"),Ae=i.n(ke),Pe=i("Z3WH"),Re=i("WTEP"),Te=i("l8xd"),xe=i("VoKR"),Oe=i("QLbI");function De(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Le(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?De(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):De(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}!function(e){e.REPLY="REPLY",e.GET_REVIEWS="GET_REVIEWS",e.NEXT_REVIEWS="NEXT_REVIEWS",e.UPDATE_FILTERS="UPDATE_FILTERS"}(Ee||(Ee={}));var Ue={modelUid:null,reviews:Pe.E3,filters:{sortBy:"-createdAt",rating:""},optimistic:{}},Me={reviews:{list:[Te.j7]}},je=(0,xe.optimistic)((0,Re.Lq)(Ue,(Ce={},l()(Ce,Ee.GET_REVIEWS,(function(e,t){return Le(Le({},e),{},{modelUid:t.modelUid,reviews:Pe.rN(Pe.V5.FIRST,e.reviews,t.effect)})})),l()(Ce,Ee.NEXT_REVIEWS,(function(e,t){return Le(Le({},e),{},{reviews:Pe.rN(Pe.V5.NEXT,e.reviews,t.effect)})})),l()(Ce,Ee.UPDATE_FILTERS,(function(e,t){return t.effect.caseOf({Rejected:function(){return e},Resolved:function(){return e},Pending:function(){return Le(Le({},e),{},{filters:Le(Le({},e.filters),t.filters)})}})})),l()(Ce,Ee.REPLY,(function(e,t){return t.effect.caseOf({Pending:function(){return e},Rejected:function(){return e},Resolved:function(i){return Le(Le({},e),{},{reviews:Pe.UI(e.reviews,(function(e){return e.uid===t.reviewUid?Le(Le({},e),i):e}))})}})})),Ce))),Ie=function(e){return Pe.wl.cursors(e.reviews)},Fe=function(e){return e.filters},ze=function(e){return Pe.wl.isLoading(e.reviews)},He=function(e){var t=e.results,i=e.next;return{list:t,cursors:{next:Oe.ZP.string("offset","",i||""),previous:null}}},Xe={getReviews:function(e){return{type:Ee.GET_REVIEWS,payload:{modelUid:e,effect:function(t){return Ae()(Se().mark((function i(){var o,n,r,a;return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=t.Api,n=t.getState,r=Fe(n()),i.next=4,o.getModelReviews(e,void 0,r);case 4:return a=i.sent,i.abrupt("return",He(a));case 6:case"end":return i.stop()}}),i)})))()}}}},nextReviews:function(e){return{type:Ee.NEXT_REVIEWS,payload:{effect:function(t){return Ae()(Se().mark((function i(){var o,n,r,a,s,l;return Se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=t.Api,n=t.getState,r=Ie(n()),a=r.next,s=Fe(n()),i.next=5,o.getModelReviews(e,a,s);case 5:return l=i.sent,i.abrupt("return",He(l));case 7:case"end":return i.stop()}}),i)})))()}}}},updateFilters:function(e){return{type:Ee.UPDATE_FILTERS,payload:{filters:e,effect:function(e){var t=e.dispatch,i=(0,e.getState)().modelUid;i&&t(Xe.getReviews(i))}}}},reply:function(e,t){return{type:Ee.REPLY,payload:{reviewUid:e,replyBody:t,effect:function(i){return i.Api.patchReview(e,{replyBody:t})}}}}},Be={average:null,previewFidelity:null,easeOfUse:null,valueForMoney:null,reviewCount:0,distribution:{5:0,4:0,3:0,2:0,1:0}};function qe(e){var t=e.model,i=(0,K.Z)(je,Ue,Me),o=F()(i,2),r=o[0],s=o[1],l=(0,u.I0)(),d=(0,u.v9)((function(e){return m.wl.authUser.canReviewModel(t.uid,e)})),v=(0,V.Z)((function(e){return e.Api.getModelRatings(t.uid)}),Be,[t.uid]),p=F()(v,1)[0];c.useEffect((function(){s(Xe.getReviews(t.uid)),l(m.Nw.authUser.canReviewModel(t.uid))}),[t.uid]);var f=c.useCallback((function(e,t){return s(Xe.reply(e,t))}),[]);return a()("div",{className:"c-model-reviews"},void 0,a()("div",{className:"c-model-reviews__filters"},void 0,a()("div",{className:"c-model-reviews__select"},void 0,a()(q.Z,{value:r.filters.sortBy,onChange:function(e){return s(Xe.updateFilters({sortBy:e}))},options:[{title:"Most recent first",value:"-createdAt",default:!0},{title:"Highest ratings first",value:"-rating"},{title:"Lowest ratings first",value:"rating"},{title:"Most helpful first",value:"-upvoteCount"}]})),d&&a()("a",{href:t.reviewUrl,className:"skfb-link c-model-reviews__write-review-link"},void 0,"Write your review")),c.createElement($,n()({},p,{selectedRating:r.filters.rating,onSelectRating:function(e){return s(Xe.updateFilters({rating:e}))}})),a()("div",{className:"c-model-reviews__list"},void 0,a()("div",{className:"c-model-reviews__items"},void 0,r.reviews.list.map((function(e){return a()(_e,{className:"c-model-reviews__item",review:e,model:t,onReply:function(t){return f(e.uid,t)},"data-selenium":"review-item"},e.uid)})),ze(r)&&(0,X.Z)(0,5).map((function(e){return a()(B.Z,{className:"c-model-reviews__item"},e)})))))}var Ke=["reviews","comments"];function Ve(e){var t=e.model,i=e.selectedTab,o=c.useState(t.publicCommentCount),n=F()(o,2),r=n[0],s=n[1],l=c.useState(t.reviewCount?0:1),d=F()(l,2),u=d[0],m=d[1];c.useEffect((function(){m(i?Ke.indexOf(i):u)}),[i]);var v="store"===t.downloadType,p=a()(H.Z,{model:t,onTotalCommentCountChange:function(e){return s(e)},shouldDisplayTitle:!v}),f=a()(qe,{model:t});return a()("div",{className:"c-model-feedbacks"},void 0,v?a()(z.Z,{selectedTabIndex:u,onSelectTab:m,tabs:[{title:"".concat(t.reviewCount," Reviews"),render:function(){return f}},{title:"".concat(r," Comments"),render:function(){return p}}]}):p)}var We=i("RLqg"),Ge=i("E2CZ"),Je=i("UcNa"),Ye=i("O1Jf"),Qe=i("kcJA"),$e=i("GHVZ");function et(e){var t=e.uid,i=(0,$e.Z)((function(e){return e.Api.getModelRelatedModels(t)}),[t]);return c.useEffect((function(){i.onLoadFirst()}),[t]),a()(Ye.r,{value:i.list},void 0,a()(Je.Z,{gridSize:"fullscreen",title:"store models",withBackground:!1,cards:i.list.map((function(e){return a()(Qe.Z,{model:e},e.uid)})),isLoading:i.isLoading,color:W.O9.storeColor}))}function tt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function it(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):tt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ot=a()("span",{className:"flag --draft"}),nt=a()("span",{className:"flag --disabled "}),rt=a()("span",{className:"model-page-main__3d-model"},void 0,"3D Model"),at=a()("br",{}),st=a()("div",{className:"icon fa fa-download"}),lt=a()("div",{className:"icon custom-icons icon-eye-icon"});const dt=function(e){var t=e.model,i=e.forcedFeedbackTab,o=e.onInspect,r=e.onOpenDownloadPopup,s=e.onScrollToReviews,l=(0,u.v9)(m.wl.authUser.user),x=t.org?it(it({},t.org),{},{account:"ent"}):t.user,O=(0,R.Z)().Popups,D=c.useCallback((function(){return O.loadModelEmbedPopup().then((function(e){return new e({model:t}).open()})).catch((0,p.KQ)(p.ud))}),[O,t]),L=c.useCallback((function(){O.loadSharePopup().then((function(e){return new e({model:t,type:"model"}).open()})).catch((0,p.KQ)(p.ud))}),[O,t]),U=c.useCallback((function(){return O.openAddToCollectionPopup(new d.Z(t))}),[O,t]);return a()("div",{className:"content-wrapper model-page-main"},void 0,a()("div",{},void 0,a()("div",{className:"viewer-additional"},void 0,a()("h1",{className:"model-name"},void 0,a()("div",{},void 0,a()(_.Z,{model:t,clickable:!1},void 0,t.isPublished||1===t.processingStatus?null:ot,a()(S.Z,{className:"c-model-name__disabled",text:"Your model is disabled. For more details go to Edit properties"},void 0,t.isDisabled?nt:null)),a()(y.Z,{model:t,withStaffpickLink:!0,withRestrictedFlag:!0})),rt),a()("div",{className:"tablet-and-below"},void 0,(0,v.J5)(l,t.user.uid)?c.createElement(c.Fragment,null,a()(j.Z,{model:t,dataSeleniumPrefix:"mobile-"}),a()(C.Z,{model:t}),a()(Ge.Z,{model:t})):null,"store"===t.downloadType?a()("div",{className:"store-informations"},void 0,a()("div",{className:"store-informations__buy"},void 0,a()("div",{className:"store-informations__buy-info"},void 0,a()("div",{className:"store-informations__price"},void 0,(0,f.li)(t.price)),a()("div",{className:"rating help",onClick:s},void 0,a()(Z.Z,{value:t.averageRating||0,identifier:"mobile"}),a()("span",{className:"tooltip tooltip-down"},void 0,t.averageRating?c.createElement(c.Fragment,null,a()("span",{className:"count"},void 0,(0,f.A6)(t.averageRating))," star".concat((0,w.pluralize)(t.averageRating)),at,"(",a()("span",{className:"count"},void 0,t.reviewCount)," ","reviews)"):"no reviews")," ",a()("span",{className:"skfb-link"},void 0,"".concat(t.reviewCount," review").concat((0,w.pluralize)(t.reviewCount))))),a()(b.Z,{model:t})),a()("div",{className:"store-informations__more",onClick:function(){var e=new T.Z({model:t,authUser:l,onInspect:function(){e.close(),o&&o()}});return e.open()}},void 0,"Show 3D model information")):null),a()("div",{className:"owner-wrapper"},void 0,a()("div",{className:"owner",itemProp:"creator",itemScope:!0,itemType:"http://schema.org/Person"},void 0,c.createElement("a",n()({href:(0,h.HQ)("users:profile_summary",{username:x.username}),itemProp:"url",className:"avatar"},t.org&&{"data-action":"show-user-summary","data-user":"".concat(t.user.uid)}),a()(N.ZP,{alt:"Avatar of ".concat(x.username),width:48,height:48,images:x.avatars})),a()("div",{className:"whoami"},void 0,a()("div",{className:"display-name"},void 0,a()(k.Z,{user:x})),a()("div",{className:"actions owner-actions-buttons follow-user-button"},void 0,l.uid===t.user.uid||t.org?null:a()(A.Z,{user:t.user},void 0,(function(e){return c.createElement(g.Z,n()({size:"small"},e))}))))),a()("div",{className:"stats"},void 0,t.displayStatus&&!t.isDisabled&&t.isPublished?c.createElement(c.Fragment,null,"free"===t.downloadType?a()("div",{className:"downloads help"},void 0,st,a()("span",{className:"count"},void 0,(0,f.sH)(t.downloadCount)),a()("div",{className:"tooltip tooltip-down"},void 0,a()("span",{className:"count"},void 0,(0,f.sH)(t.downloadCount))," Download".concat((0,w.pluralize)(t.downloadCount)))):null,a()("div",{className:"views help"},void 0,lt,a()("span",{className:"count"},void 0,(0,f.sH)(t.viewCount)),a()("div",{className:"tooltip tooltip-down"},void 0,a()("span",{className:"count"},void 0,(0,f.sH)(t.viewCount))," View".concat((0,w.pluralize)(t.viewCount)))),a()(P.Z,{model:t},void 0,(function(e){return c.createElement(E.Z,n()({className:"c-star-like-button__button"},e))}))):null)),a()("div",{className:"js-model-actions"},void 0,a()(M,{model:t,onOpenEmbedPopup:D,onOpenSharePopup:L,onOpenDownloadPopup:r,onOpenAddToCollectionPopup:U}))),a()(We.Z,{model:t,onInspect:o,showLicense:!0,showModelInfo:!0,showLikes:!0}),"store"===t.downloadType?a()("div",{className:"store-suggestions"},void 0,a()(et,{uid:t.uid})):null,a()("div",{className:"comments-wrapper",id:"comments"},void 0,t.publishedAt&&!t.isDisabled?a()(Ve,{model:t,selectedTab:i}):null)))}},aQLr:(e,t,i)=>{"use strict";i.d(t,{fK:()=>c,E3:()=>u,I6:()=>m,wl:()=>v,Nw:()=>f});var o,n,r=i("DF+G"),a=i.n(r),s=i("l8xd"),l=i("WTEP"),d=i("Z3WH");!function(e){e.GET_RELATED_MODELS="GET_RELATED_MODELS",e.NEXT_RELATED_MODELS="NEXT_RELATED_MODELS"}(n||(n={}));var c={models:{list:[s.o4]}},u={models:d.E3},m=(0,l.Lq)(u,(o={},a()(o,n.GET_RELATED_MODELS,(function(e,t){return{models:d.rN(d.V5.FIRST,e.models,t.effect)}})),a()(o,n.NEXT_RELATED_MODELS,(function(e,t){return{models:d.rN(d.V5.NEXT,e.models,t.effect)}})),o)),v={isLoading:function(e){return d.wl.isLoading(e.models)},cursors:function(e){return d.wl.cursors(e.models)},hasNextPage:function(e){return d.wl.hasNextPage(e.models)},relatedModels:function(e){return d.wl.list(e.models)}},p=function(e){return{list:e.results,cursors:e.cursors}},f={getRelatedModels:function(e,t){return{type:n.GET_RELATED_MODELS,payload:{effect:function(i){return i.Api.getModelRelatedModels(e,null,t).then(p)}}}},nextRelatedModels:function(e){return{type:n.NEXT_RELATED_MODELS,payload:{effect:function(t){var i=t.Api,o=t.getState,n=v.cursors(o()).next;return i.getModelRelatedModels(e,n).then(p)}}}}}},E2CZ:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var o=i("orms"),n=i.n(o),r=(i("3Z9q"),i("73wT")),a=i("XF2a"),s=i("510x"),l=i("lZan"),d=i("pQVb"),c=i("BBJ9");const u=function(e){var t=e.model,i=(0,r.v9)(a.wl.authUser.user),o=(0,r.v9)(a.wl.authUser.canAccessFeature("ff_reprocess_flow"))&&(0,s.J5)(i,t.user.uid),u=(0,l.Z)(t.uid,o,!0);return u&&n()(d.Z,{model:(0,c.Z)(t,["uid","org","user"]),context:u.context,status:u.status})}},ulRg:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Ne});var o=i("orms"),n=i.n(o),r=i("3Z9q"),a=i("73wT"),s=i("XF2a"),l=i("510x"),d=i("d1tj"),c=i("hHHr"),u=i("SmKw"),m=i("RxYJ"),v=i("9M9C"),p=i("dutp"),f=i.n(p),h=i("+gM6"),w=i("MKdz"),b=i("bEzE"),g=n()("div",{className:"placeholder c-list-item-placeholder --small-card"},void 0,n()("div",{className:"placeholder__card"},void 0,n()("div",{className:"placeholder__image"}),n()("div",{className:"placeholder__container"},void 0,n()("div",{className:"placeholder__text --w-80"}),n()("div",{className:"placeholder__text --small --w-50"}))));const N=function(){return g};var y=i("L1ht"),_=i.n(y),C=i("Z10h"),E=i("Z5mj"),Z=i("yvon"),S=i("MpY4"),k=i("Ze10"),A=i("0smq"),P=i("YQ43"),R=i("27sA"),T=n()("div",{className:"tooltip tooltip-up"},void 0,"Models");function x(e){var t=e.deferImages,i=void 0===t||t,o=e.displayNew,a=void 0!==o&&o,s=e.collection,l=(0,R.Z)((function(e){return e.Api.getCollectionThumbnails(s.uid)}),[],[s.uid]),c=f()(l,1)[0];return n()("div",{className:"collection-smallcard"},void 0,n()("a",{className:"collection-smallcard__thumbnails",href:s.collectionUrl,"aria-label":"Open the collection ".concat((0,C.escapeHTML)(s.name))},void 0,(0,w.Z)(0,4).map((function(e){return n()(Z.Z,{className:"collection-smallcard__thumbnail",thumbnails:c[e]||[],width:85,height:765/16,deferImages:i},e)})),n()("div",{className:"card__main__corner --top-left"},void 0,n()(S.Z,{displayNew:a}))),n()("div",{className:"meta"},void 0,n()("div",{className:"information"},void 0,n()("div",{className:"name"},void 0,n()(k.Z,{collection:s})),n()("div",{className:"user"},void 0,n()(P.Z,{user:s.user,withoutBadge:!0}))),n()("div",{className:"stats"},void 0,s.modelCount>0&&n()("div",{className:"card__footer__stats --models help"},void 0,n()("span",{className:"count"},void 0,(0,d.sH)(s.modelCount)),T),n()(E.Z,{collection:s},void 0,(function(e){return r.createElement(A.Z,_()({},e,{className:"card__footer__stats --subscribes",tooltipClassName:"tooltip tooltip-up",subscriberCount:e.subscriberCount||s.subscriberCount}))})))))}const O=r.memo(x);var D,L=i("DF+G"),U=i.n(L),M=i("l8xd"),j=i("WTEP"),I=i("Z3WH");!function(e){e.GET_RELATED_COLLECTIONS="GET_RELATED_COLLECTIONS"}(D||(D={}));var F={collections:{list:[M.hJ]}},z={collections:I.E3},H=(0,j.Lq)(z,U()({},D.GET_RELATED_COLLECTIONS,(function(e,t){return{collections:I.rN(I.V5.FIRST,e.collections,t.effect)}}))),X=function(e){return I.wl.isLoading(e.collections)},B=function(e){return I.wl.list(e.collections)},q=function(e){return{type:D.GET_RELATED_COLLECTIONS,payload:{effect:function(t){return t.Api.getModelRelatedCollections(e).then((function(e){return{list:e.results,cursors:{next:null,previous:null}}}))}}}},K=n()("span",{className:"sidebar-title"},void 0,"In collections");const V=function(e){var t=e.modelUid,i=(0,b.Z)(H,z,F),o=f()(i,2),a=o[0],s=o[1],l=B(a);(0,r.useEffect)((function(){s(q(t))}),[s,t]);var d=X(a);return!(0,h.Z)(l)||d?r.createElement(r.Fragment,null,K,n()("div",{className:"c-vertical-list"},void 0,l.map((function(e){return n()(O,{collection:e},e.uid)})),d&&(0,w.Z)(0,3).map((function(e){return n()(N,{},"placeholder-".concat(e))})))):null};var W=i("kZ7m"),G=i("fa+3"),J=i("4+sI"),Y=i("wfL8"),Q=i("yqlb"),$=i("65I9"),ee=i("O1Jf"),te=i("gdjY"),ie=i("7ZFv"),oe=i("IiMA"),ne=i("sN7K");function re(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function ae(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?re(Object(i),!0).forEach((function(t){U()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):re(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var se=n()("span",{className:"tooltip tooltip-up"},void 0,"Comment"),le=n()("span",{className:"tooltip tooltip-up"},void 0,"Views"),de=r.memo((function(e){var t=e.model;return n()(G.Z,{},void 0,n()("div",{className:"model-smallcard",itemScope:!0,itemType:"http://schema.org/3DModel","data-uid":t.uid},void 0,n()("meta",{itemProp:"commentCount",content:t.publicCommentCount.toString()}),n()("meta",{itemProp:"isFamilyFriendly",content:"".concat(!t.isRestricted)}),n()("meta",{itemProp:"isBasedOnUrl",content:"".concat(t.viewerUrl,"/editor")}),n()("meta",{itemProp:"name",content:t.name}),n()("meta",{itemProp:"url",content:t.viewerUrl}),n()("meta",{itemProp:"discussionUrl",content:"".concat(t.viewerUrl,"#comments")}),n()("div",{className:"model-smallcard__thumbnail"},void 0,n()(ee.Z,{"aria-label":"Visit ".concat(t.name," 3D model"),model:t,className:"card-model__thumbnail-link"},void 0,n()(Z.Z,{className:"thumbnail",width:170,height:95.625,thumbnails:t.thumbnails}),n()(oe.Z,{},void 0,(function(){return n()("div",{className:"card__360-preview"},void 0,n()(J.Z,{modelUid:t.uid}))}))),n()("div",{className:"card__main__corner --top-left --small"},void 0,n()(Q.Z,{model:t,displayRecentlyStaffpicked:!0})),n()("div",{className:"card__main__corner --top-right"},void 0,r.createElement(Y.Z,t))),n()("div",{className:"meta"},void 0,n()("div",{className:"information"},void 0,n()("div",{className:"name",itemProp:"name"},void 0,n()($.Z,{model:t})),n()("div",{className:"user"},void 0,n()(P.Z,{user:t.org?ae(ae({},t.org),{},{account:"ent",profileUrl:(0,ne.HQ)("users:profile_summary",{username:t.org.username})}):t.user,withoutBadge:!0}))),n()("div",{className:"stats"},void 0,n()(ee.Z,{"aria-label":"Comment ".concat(t.name," 3D model"),model:t,className:"model-card-comments help",suffix:t.isPublished?"#comments":"",itemProp:"discussionUrl"},void 0,n()("span",{className:"count"},void 0,(0,d.sH)(t.publicCommentCount)),se),n()("span",{className:"views custom-icons icon-eye-icon help"},void 0,n()("span",{className:"count"},void 0,(0,d.sH)(t.viewCount)),le),n()(ie.Z,{model:t},void 0,(function(e){var t=e.doesLike,i=e.onToggleLike,o=e.likeCount;return n()(te.Z,{className:"card__footer__stats --likes",tooltipClassName:"tooltip-up",likeCount:o,doesLike:t,onToggleLike:i})}))))))}));de.displayName="ModelSmallCard";const ce=de;var ue=i("aQLr"),me=n()("span",{className:"sidebar-title"},void 0,"Suggested 3D Models"),ve=function(e){var t=e.modelUid,i=(0,b.Z)(ue.I6,ue.E3,ue.fK),o=f()(i,2),a=o[0],s=o[1],l=ue.wl.relatedModels(a);(0,r.useEffect)((function(){s(ue.Nw.getRelatedModels(t))}),[s,t]);var d=ue.wl.hasNextPage(a),c=ue.wl.isLoading(a);return!(0,h.Z)(l)||c?r.createElement(r.Fragment,null,me,n()("div",{className:"c-vertical-list"},void 0,n()(ee.r,{value:l},void 0,l.map((function(e){return n()(ce,{model:e},e.uid)}))),c&&(0,w.Z)(0,6).map((function(e){return n()(N,{},"placeholder-".concat(e))})),d&&n()(W.Z,{className:"c-vertical-list__button",text:"load more",size:"small",type:"tertiary",onClick:function(){s(ue.Nw.nextRelatedModels(t))},loading:c}))):null};const pe=r.memo(ve);var fe=i("E2CZ"),he=n()("div",{className:"c-payment-solutions"},void 0,n()("div",{className:"c-payment-solutions__image --card-visa"}),n()("div",{className:"c-payment-solutions__image --card-mastercard"}),n()("div",{className:"c-payment-solutions__image --card-amex"}),"via",n()("div",{className:"c-payment-solutions__image --paypal"})),we=r.memo((function(){return he})),be=n()("ul",{className:"store-informations__header__list"},void 0,n()("li",{},void 0,n()("i",{className:"fa fa-lock fa-fw"}),"Secure payment"),n()("li",{},void 0,n()("i",{className:"fa fa-envelope-o fa-fw"}),"Support from sellers"),n()("li",{},void 0,n()("i",{className:"custom-icons icon-future-update"}),"Access to future versions")),ge=n()(we,{});const Ne=function(e){var t=e.model,i=e.metaImageUrl,o=e.onInspect,p=void 0===o?function(){}:o,f=e.onReviewsClick,h=void 0===f?function(){}:f,w=(0,a.v9)(s.wl.authUser.user);return n()("div",{},void 0,n()("meta",{itemProp:"commentCount",content:"".concat(t.publicCommentCount)}),n()("meta",{itemProp:"discussionUrl",content:"".concat(t.viewerUrl,"#comments")}),n()("meta",{itemProp:"isBasedOnUrl",content:"".concat(t.viewerUrl,"/editor")}),n()("meta",{itemProp:"url",content:t.viewerUrl}),i?n()("link",{itemProp:"thumbnailUrl",href:i}):null,(0,l.J5)(w,t.user.uid)?r.createElement(r.Fragment,null,n()(v.Z,{model:t}),n()(u.Z,{model:t}),n()(fe.Z,{model:t})):null,"store"===t.downloadType?n()("div",{className:"store-informations"},void 0,n()("div",{className:"store-informations__header"},void 0,n()("div",{className:"store-informations__header__price"},void 0,(0,d.li)(t.price)),be,n()(c.Z,{model:t,"data-selenium":"sidebar-store-button"}),ge),n()("div",{className:"store-informations__model"},void 0,n()(m.Z,{model:t,onInspectModel:p,onReviewsClick:h}))):t.publishedAt&&!t.isDisabled?r.createElement(r.Fragment,null,n()(V,{modelUid:t.uid}),n()(pe,{modelUid:t.uid})):null)}}}]);